@inject IServicoProduto ServicoProduto
@inject ILocalStorageService LocalStorage


<ul class="list-unstyled">
	@foreach (var product in l)
	{
		@if (product.Estado.Equals("aDecorrer") && product.IsPublic == true)
		{

							<li class="media my-3">
							<div class ="media-img-wrapper mr-2">
								<a href="/produto/@product.CodLeilao">
											<img class="media-img" src="@product.Images.ElementAt(0)" alt = "@product.Name"/>
								</a>
							</div>
							<div class="media-body">
										<a href="/produto/@product.CodLeilao">
										<h4 class = "mb-0">@product.Name</h4>
									</a>
									<p>@product.EntryPrice</p>
									<p>@product.Location</p>
							</div>
						</li>


		}



	}



</ul>



@code {

	[Parameter]
	public string Username { get; set; }

	List<Leilao> l { get; set; } = new List<Leilao>();

	
	protected override async Task OnInitializedAsync()
	{

		Username = await LocalStorage.GetItemAsync<string>("username") ?? string.Empty;
		l = await ServicoProduto.GetLeilaoByUser(Username);
	}
}
